<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>汉语-乌兹别克语互动日历 (Xitoy Taqvim)</title>
    
    <!-- 引入 React 和 ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- 引入 Babel 用于在浏览器解析 JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 自定义样式 -->
    <style>
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 图标组件 (替代 lucide-react) ---
        const IconBase = ({ children, className, ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width="24" 
                height="24" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className} 
                {...props}
            >
                {children}
            </svg>
        );

        const ChevronLeft = (props) => <IconBase {...props}><path d="m15 18-6-6 6-6"/></IconBase>;
        const ChevronRight = (props) => <IconBase {...props}><path d="m9 18 6-6-6-6"/></IconBase>;
        const CalendarIcon = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></IconBase>;
        const Volume2 = (props) => <IconBase {...props}><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></IconBase>;
        const XIcon = (props) => <IconBase {...props}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></IconBase>;
        const Info = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></IconBase>;
        const MessageCircle = (props) => <IconBase {...props}><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></IconBase>;
        const Gift = (props) => <IconBase {...props}><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></IconBase>;
        const Clock = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></IconBase>;
        const ArrowRight = (props) => <IconBase {...props}><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></IconBase>;
        const ArrowLeft = (props) => <IconBase {...props}><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></IconBase>;

        // --- 数据常量 (多语言) ---
        const MONTHS_DATA = [
            { uz: "Yanvar", en: "January", ru: "Январь" },
            { uz: "Fevral", en: "February", ru: "Февраль" },
            { uz: "Mart", en: "March", ru: "Март" },
            { uz: "Aprel", en: "April", ru: "Апрель" },
            { uz: "May", en: "May", ru: "Май" },
            { uz: "Iyun", en: "June", ru: "Июнь" },
            { uz: "Iyul", en: "July", ru: "Июль" },
            { uz: "Avgust", en: "August", ru: "Август" },
            { uz: "Sentabr", en: "September", ru: "Сентябрь" },
            { uz: "Oktabr", en: "October", ru: "Октябрь" },
            { uz: "Noyabr", en: "November", ru: "Ноябрь" },
            { uz: "Dekabr", en: "December", ru: "Декабрь" }
        ];

        const WEEKDAYS_DATA = [
            { uz: "Yakshanba", en: "Sunday", ru: "Воскресенье" },
            { uz: "Dushanba", en: "Monday", ru: "Понедельник" },
            { uz: "Seshanba", en: "Tuesday", ru: "Вторник" },
            { uz: "Chorshanba", en: "Wednesday", ru: "Среда" },
            { uz: "Payshanba", en: "Thursday", ru: "Четверг" },
            { uz: "Juma", en: "Friday", ru: "Пятница" },
            { uz: "Shanba", en: "Saturday", ru: "Суббота" }
        ];

        const CHINESE_NUMBERS = ["零", "一", "二", "三", "四", "五", "六", "七", "八", "九", "十"];

        // --- 辅助函数 ---
        const toChineseNum = (num) => {
            if (num <= 10) return CHINESE_NUMBERS[num];
            if (num < 20) return "十" + (num % 10 === 0 ? "" : CHINESE_NUMBERS[num % 10]);
            if (num < 100) {
                const ten = Math.floor(num / 10);
                const unit = num % 10;
                return CHINESE_NUMBERS[ten] + "十" + (unit === 0 ? "" : CHINESE_NUMBERS[unit]);
            }
            return num;
        };

        const getPinyinDate = (date) => {
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            const week = date.getDay();
            const weekPinyin = ["Xīngqī Rì", "Xīngqī Yī", "Xīngqī Èr", "Xīngqī Sān", "Xīngqī Sì", "Xīngqī Wǔ", "Xīngqī Liù"];
            return `${year} Nián ${month} Yuè ${day} Rì / Hào, ${weekPinyin[week]}`;
        };

        const getSpokenDateAnswer = (date) => {
            return `${date.getMonth() + 1}月${date.getDate()}号`;
        };

        const getSpokenPinyin = (date) => {
            return `${date.getMonth() + 1} Yuè ${date.getDate()} Hào`;
        };

        // --- 主组件 ---
        function InteractiveCalendar() {
            const [currentDate, setCurrentDate] = useState(new Date());
            const [selectedDate, setSelectedDate] = useState(null);
            const [showInfo, setShowInfo] = useState(false);
            const [activeQuestion, setActiveQuestion] = useState(null);

            useEffect(() => {
                // 仅用于确保客户端渲染一致性
                setCurrentDate(new Date());
            }, []);

            const getDaysInMonth = (year, month) => {
                return new Date(year, month + 1, 0).getDate();
            };

            const getFirstDayOffset = (year, month) => {
                const day = new Date(year, month, 1).getDay();
                // 0=周日, 1=周一 ... 目标: 0=周一 ... 6=周日
                return day === 0 ? 6 : day - 1;
            };

            const handlePrevMonth = () => {
                setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1));
                setSelectedDate(null);
            };

            const handleNextMonth = () => {
                setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1));
                setSelectedDate(null);
            };

            const handleDateClick = (day) => {
                const newDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
                setSelectedDate(newDate);
            };

            const speakText = (text) => {
                try {
                    if ('speechSynthesis' in window) {
                        window.speechSynthesis.cancel();
                        const utterance = new SpeechSynthesisUtterance(text);
                        utterance.lang = 'zh-CN';
                        utterance.rate = 0.8;
                        window.speechSynthesis.speak(utterance);
                    } else {
                        console.warn("Speech synthesis not supported");
                    }
                } catch (e) {
                    console.error("Speech synthesis error:", e);
                }
            };

            const weekHeaders = [
                { zh: '周一', fullZh: '星期一', uz: 'Du', fullUz: 'Dushanba', en: 'Mon', ru: 'Пн', color: 'text-teal-700 bg-teal-50 border-teal-100' },
                { zh: '周二', fullZh: '星期二', uz: 'Se', fullUz: 'Seshanba', en: 'Tue', ru: 'Вт', color: 'text-teal-700 bg-teal-50 border-teal-100' },
                { zh: '周三', fullZh: '星期三', uz: 'Chor', fullUz: 'Chorshanba', en: 'Wed', ru: 'Ср', color: 'text-teal-700 bg-teal-50 border-teal-100' },
                { zh: '周四', fullZh: '星期四', uz: 'Pay', fullUz: 'Payshanba', en: 'Thu', ru: 'Чт', color: 'text-teal-700 bg-teal-50 border-teal-100' },
                { zh: '周五', fullZh: '星期五', uz: 'Ju', fullUz: 'Juma', en: 'Fri', ru: 'Пт', color: 'text-teal-700 bg-teal-50 border-teal-100' },
                { zh: '周六', fullZh: '星期六', uz: 'Sha', fullUz: 'Shanba', en: 'Sat', ru: 'Сб', color: 'text-purple-700 bg-purple-50 border-purple-100' },
                { zh: '周日', fullZh: '星期日', uz: 'Yak', fullUz: 'Yakshanba', en: 'Sun', ru: 'Вс', color: 'text-rose-700 bg-rose-50 border-rose-100' },
            ];

            const questions = [
                { 
                    id: 'today', 
                    icon: <Clock className="w-5 h-5" />, 
                    zh: '今天是几月几号？', 
                    pinyin: 'Jīntiān shì jǐ yuè jǐ hào?',
                    uz: 'Bugun sana necha?',
                    en: 'What is the date today?',
                    ru: 'Какое сегодня число?',
                    color: 'bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100'
                },
                { 
                    id: 'tomorrow', 
                    icon: <ArrowRight className="w-5 h-5" />, 
                    zh: '明天是几月几号？', 
                    pinyin: 'Míngtiān shì jǐ yuè jǐ hào?',
                    uz: 'Ertaga sana necha?',
                    en: 'What is the date tomorrow?',
                    ru: 'Какое завтра число?',
                    color: 'bg-green-50 text-green-700 border-green-200 hover:bg-green-100'
                },
                { 
                    id: 'yesterday', 
                    icon: <ArrowLeft className="w-5 h-5" />, 
                    zh: '昨天是几月几号？', 
                    pinyin: 'Zuótiān shì jǐ yuè jǐ hào?',
                    uz: 'Kecha sana necha edi?',
                    en: 'What was the date yesterday?',
                    ru: 'Какое число было вчера?',
                    color: 'bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100'
                },
                { 
                    id: 'birthday', 
                    icon: <Gift className="w-5 h-5" />, 
                    zh: '你的生日是几月几号？', 
                    pinyin: 'Nǐ de shēngrì shì jǐ yuè jǐ hào?',
                    uz: 'Tug\'ilgan kuningiz qachon?',
                    en: 'When is your birthday?',
                    ru: 'Когда твой день рождения?',
                    color: 'bg-pink-50 text-pink-700 border-pink-200 hover:bg-pink-100'
                }
            ];

            const generateAnswer = (type) => {
                const today = new Date();
                let targetDate = new Date(today); 
                
                let prefixZh = "";
                let prefixPinyin = "";
                let prefixUz = "";
                let prefixEn = "";
                let prefixRu = "";

                switch(type) {
                    case 'today':
                        prefixZh = "今天是";
                        prefixPinyin = "Jīntiān shì";
                        prefixUz = "Bugun";
                        prefixEn = "Today is";
                        prefixRu = "Сегодня";
                        break;
                    case 'tomorrow':
                        targetDate.setDate(today.getDate() + 1);
                        prefixZh = "明天是";
                        prefixPinyin = "Míngtiān shì";
                        prefixUz = "Ertaga";
                        prefixEn = "Tomorrow is";
                        prefixRu = "Завтра";
                        break;
                    case 'yesterday':
                        targetDate.setDate(today.getDate() - 1);
                        prefixZh = "昨天是";
                        prefixPinyin = "Zuótiān shì";
                        prefixUz = "Kecha";
                        prefixEn = "Yesterday was";
                        prefixRu = "Вчера было";
                        break;
                    case 'birthday':
                        return {
                            zh: "我的生日是 ___ 月 ___ 号。",
                            pinyin: "Wǒ de shēngrì shì ___ Yuè ___ Hào.",
                            uz: "Mening tug'ilgan kunim ___ (oy) ___ (kun).",
                            en: "My birthday is ___ (month) ___ (day).",
                            ru: "Мой день рождения ___ (месяц) ___ (день).",
                            isTemplate: true
                        };
                    default:
                        return null;
                }

                // Note: MONTHS_DATA is 0-indexed, date.getMonth() is 0-indexed
                const monthName = MONTHS_DATA[targetDate.getMonth()];
                
                return {
                    zh: `${prefixZh}${getSpokenDateAnswer(targetDate)}。`,
                    pinyin: `${prefixPinyin} ${getSpokenPinyin(targetDate)}.`,
                    uz: `${prefixUz} ${targetDate.getDate()}-${monthName.uz}.`,
                    en: `${prefixEn} ${monthName.en} ${targetDate.getDate()}.`,
                    ru: `${prefixRu} ${targetDate.getDate()} ${monthName.ru}.`, // Simplified RU date format
                    isTemplate: false
                };
            };

            const renderCalendarGrid = () => {
                const year = currentDate.getFullYear();
                const month = currentDate.getMonth();
                const daysInMonth = getDaysInMonth(year, month);
                const offset = getFirstDayOffset(year, month);
                const days = [];

                for (let i = 0; i < offset; i++) {
                    days.push(<div key={`empty-${i}`} className="h-12 sm:h-20 bg-gray-50 border border-gray-100 rounded-md"></div>);
                }

                for (let i = 1; i <= daysInMonth; i++) {
                    const isToday = 
                        new Date().getDate() === i && 
                        new Date().getMonth() === month && 
                        new Date().getFullYear() === year;
                    
                    const isSelected = selectedDate && selectedDate.getDate() === i;
                    const dayOfWeek = new Date(year, month, i).getDay();
                    const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;

                    days.push(
                        <div 
                            key={i} 
                            onClick={() => handleDateClick(i)}
                            className={`h-12 sm:h-20 border border-gray-100 rounded-md cursor-pointer transition-all duration-200 relative group
                                ${isSelected ? 'bg-red-600 text-white shadow-lg scale-95 z-10 ring-2 ring-red-300' : 'hover:bg-red-50 bg-white'}
                                ${isToday && !isSelected ? 'border-red-400 border-2' : ''}
                            `}
                        >
                            <span className={`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 sm:top-1 sm:left-2 sm:translate-x-0 sm:translate-y-0 font-bold text-lg sm:text-base ${isSelected ? 'text-white' : (isWeekend ? 'text-red-500' : 'text-gray-700')}`}>
                                {i}
                            </span>
                            <span className={`hidden sm:block absolute bottom-1 right-2 text-xs ${isSelected ? 'text-red-100' : 'text-gray-300'}`}>
                                日
                            </span>
                        </div>
                    );
                }
                return days;
            };

            const renderQuestionModal = () => {
                if (!activeQuestion) return null;
                const qData = questions.find(q => q.id === activeQuestion);
                const answerData = generateAnswer(activeQuestion);

                return (
                    <div className="fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50 backdrop-blur-sm" onClick={() => setActiveQuestion(null)}>
                        <div 
                            className="bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden relative animate-in fade-in zoom-in duration-300 flex flex-col max-h-[90vh]"
                            onClick={e => e.stopPropagation()}
                        >
                            <div className="bg-gradient-to-r from-indigo-500 to-purple-600 p-4 flex justify-between items-center text-white shrink-0">
                                <div className="flex items-center gap-2">
                                    <MessageCircle className="w-5 h-5 sm:w-6 sm:h-6" />
                                    <span className="font-bold text-base sm:text-lg">对话 (Muloqot / Dialogue)</span>
                                </div>
                                <button onClick={() => setActiveQuestion(null)} className="hover:bg-white/20 rounded-full p-2 transition-colors">
                                    <XIcon size={20} />
                                </button>
                            </div>

                            <div className="p-4 sm:p-6 space-y-4 sm:space-y-6 overflow-y-auto">
                                <div className="space-y-2">
                                    <div className="flex justify-between items-start">
                                        <span className="text-xs font-bold text-indigo-500 uppercase tracking-wider">Savol (Question / Вопрос)</span>
                                        <button onClick={() => speakText(qData.zh)} className="text-indigo-500 hover:text-indigo-700 p-1">
                                            <Volume2 size={20} />
                                        </button>
                                    </div>
                                    <div className="bg-indigo-50 p-4 rounded-xl border border-indigo-100">
                                        <h3 className="text-lg sm:text-xl font-bold text-gray-800">{qData.zh}</h3>
                                        <p className="text-sm text-indigo-600 font-medium mt-1">{qData.pinyin}</p>
                                        <div className="mt-2 text-gray-500 space-y-0.5">
                                            <p className="text-xs font-medium italic">{qData.uz}</p>
                                            <p className="text-[10px]">{qData.en}</p>
                                            <p className="text-[10px]">{qData.ru}</p>
                                        </div>
                                    </div>
                                </div>

                                <div className="space-y-2">
                                    <div className="flex justify-between items-start">
                                        <span className="text-xs font-bold text-green-600 uppercase tracking-wider">Javob (Answer / Ответ)</span>
                                        <button onClick={() => speakText(answerData.zh)} className="text-green-600 hover:text-green-700 p-1">
                                            <Volume2 size={20} />
                                        </button>
                                    </div>
                                    <div className="bg-green-50 p-4 rounded-xl border border-green-100">
                                        <h3 className="text-lg sm:text-xl font-bold text-gray-800">{answerData.zh}</h3>
                                        <p className="text-sm text-green-600 font-medium mt-1">{answerData.pinyin}</p>
                                        <div className="mt-2 text-gray-500 space-y-0.5">
                                            <p className="text-xs font-medium italic">{answerData.uz}</p>
                                            <p className="text-[10px]">{answerData.en}</p>
                                            <p className="text-[10px]">{answerData.ru}</p>
                                        </div>
                                        {answerData.isTemplate && (
                                            <div className="text-xs text-orange-500 mt-3 pt-2 border-t border-orange-200">
                                                <p>* O'z tug'ilgan kuningiz bilan to'ldiring</p>
                                                <p className="text-[10px] opacity-80">Fill with your birthday / Заполните дату своего рождения</p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            const renderLearningCard = () => {
                if (!selectedDate) return null;

                const year = selectedDate.getFullYear();
                const month = selectedDate.getMonth() + 1;
                const day = selectedDate.getDate();
                const weekIndex = selectedDate.getDay();

                const chineseDateStr = `${year}年${month}月${day}日 (号)`;
                const chineseWeekStr = weekIndex === 0 ? "星期日" : `星期${toChineseNum(weekIndex)}`;
                const ttsText = `${year}年${month}月${day}日，${chineseWeekStr}`;
                
                const monthData = MONTHS_DATA[selectedDate.getMonth()];
                const weekData = WEEKDAYS_DATA[weekIndex];

                const uzbekDateStr = `${day}-${monthData.uz} ${year}-yil`;
                const uzbekWeekStr = weekData.uz;

                return (
                    <div className="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm" onClick={() => setSelectedDate(null)}>
                        <div 
                            className="bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative animate-in fade-in zoom-in duration-300 flex flex-col max-h-[90vh]"
                            onClick={e => e.stopPropagation()}
                        >
                            <div className="relative h-24 sm:h-32 bg-red-600 flex items-center justify-center overflow-hidden shrink-0">
                                <svg className="absolute inset-0 w-full h-full opacity-20" viewBox="0 0 100 100" preserveAspectRatio="none">
                                    <path d="M0 100 C 20 0 50 0 100 100 Z" fill="#FFD700" />
                                    <circle cx="20" cy="20" r="30" fill="#FFD700" />
                                    <circle cx="80" cy="80" r="20" fill="#FFD700" />
                                </svg>
                                <div className="relative z-10 text-center">
                                    <h3 className="text-yellow-300 font-bold text-xl sm:text-2xl tracking-widest">学习日期</h3>
                                    <div className="text-white text-xs sm:text-sm opacity-90 space-y-0.5">
                                        <p>Sana o'rganish</p>
                                        <p className="text-[10px]">Learning the date / Изучение даты</p>
                                    </div>
                                </div>
                                <button 
                                    onClick={() => setSelectedDate(null)}
                                    className="absolute top-2 right-2 text-white hover:bg-red-700 rounded-full p-2"
                                >
                                    <XIcon size={20} />
                                </button>
                            </div>

                            <div className="p-4 sm:p-6 space-y-4 sm:space-y-6 overflow-y-auto">
                                <div className="text-center space-y-2">
                                    <p className="text-gray-500 text-xs sm:text-sm font-mono">Pinyin: {getPinyinDate(selectedDate)}</p>
                                    
                                    <div className="bg-red-50 rounded-xl p-3 sm:p-4 border border-red-100">
                                        <h2 className="text-2xl sm:text-3xl font-bold text-gray-800 mb-1">{chineseDateStr}</h2>
                                        <h3 className="text-lg sm:text-xl text-red-600 font-medium">{chineseWeekStr}</h3>
                                    </div>
                                    
                                    <button 
                                        onClick={() => speakText(ttsText)}
                                        className="mt-4 flex items-center justify-center gap-2 w-full py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors shadow-md active:scale-95"
                                    >
                                        <Volume2 size={20} />
                                        <span>Tinglash (听)</span>
                                    </button>
                                </div>

                                <div className="border-t pt-4">
                                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm">
                                        <div className="bg-gray-50 p-3 rounded-lg">
                                            <span className="block text-gray-400 text-xs uppercase mb-1">Uzbek Tilida</span>
                                            <span className="font-semibold text-gray-700 block">{uzbekDateStr}</span>
                                            <span className="text-gray-600 block mb-1">{uzbekWeekStr}</span>
                                            
                                            {/* EN/RU Translations */}
                                            <div className="pt-2 mt-1 border-t border-gray-100 text-[10px] text-gray-400 space-y-0.5">
                                                <p>{monthData.en} {day} {year}, {weekData.en}</p>
                                                <p>{day} {monthData.ru} {year}, {weekData.ru}</p>
                                            </div>
                                        </div>
                                        <div className="bg-yellow-50 p-3 rounded-lg">
                                            <span className="block text-yellow-600 text-xs uppercase mb-1">Eslatma (Note / Примечание)</span>
                                            <div className="flex flex-col text-xs text-gray-600 space-y-1">
                                                <span>Yil + 年 (nián)</span>
                                                <span>Oy + 月 (yuè)</span>
                                                <div className="flex flex-col">
                                                    <span>Kun + 日 (rì) / 号 (hào)</span>
                                                    <div className="text-[10px] text-yellow-700 opacity-80 leading-tight mt-1 space-y-1">
                                                        <p>"号" ko'proq og'zaki nutqda ishlatiladi</p>
                                                        <p>"号" is mostly used in spoken language</p>
                                                        <p>"号" чаще используется в устной речи</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-gray-50 text-gray-800 font-sans selection:bg-red-200 pb-10">
                    {/* Header */}
                    <header className="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-30">
                        <div className="max-w-4xl mx-auto px-2 sm:px-4 h-auto sm:h-16 py-2 flex items-center justify-between">
                            <div className="flex items-center gap-2 sm:gap-3 text-red-600">
                                <CalendarIcon className="w-6 h-6 sm:w-8 sm:h-8 flex-shrink-0" />
                                <div className="flex flex-col">
                                    <span className="font-bold text-sm sm:text-lg leading-tight">Xitoy Taqvim <span className="hidden sm:inline">(中国日历)</span></span>
                                    <div className="flex flex-col text-[9px] sm:text-xs text-red-400 font-medium leading-tight mt-0.5">
                                        <span>Dilfuza Kāng lǎo shī bilan xitoy tilini o'rganmiz</span>
                                        <span className="opacity-80 scale-95 origin-left">Let's learn Chinese with Teacher Dilfuza Kang</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="flex items-center gap-2 sm:gap-4">
                                <button onClick={handlePrevMonth} className="p-1 sm:p-2 hover:bg-gray-100 rounded-full transition-colors">
                                    <ChevronLeft className="w-5 h-5 sm:w-6 sm:h-6" />
                                </button>
                                <div className="text-center min-w-[80px]">
                                    <h2 className="text-base sm:text-lg font-bold leading-none">
                                        {currentDate.getFullYear()}年 {currentDate.getMonth() + 1}月
                                    </h2>
                                    <div className="flex flex-col items-center mt-0.5 sm:mt-1 space-y-0.5">
                                        <p className="text-[10px] sm:text-xs text-gray-500 font-medium">
                                            {MONTHS_DATA[currentDate.getMonth()].uz}
                                        </p>
                                        <p className="text-[8px] sm:text-[10px] text-gray-400 leading-none">
                                            {MONTHS_DATA[currentDate.getMonth()].en} / {MONTHS_DATA[currentDate.getMonth()].ru}
                                        </p>
                                    </div>
                                </div>
                                <button onClick={handleNextMonth} className="p-1 sm:p-2 hover:bg-gray-100 rounded-full transition-colors">
                                    <ChevronRight className="w-5 h-5 sm:w-6 sm:h-6" />
                                </button>
                            </div>

                            <button onClick={() => setShowInfo(!showInfo)} className="p-2 text-gray-500 hover:text-red-600 transition-colors">
                                <Info className="w-5 h-5 sm:w-6 sm:h-6" />
                            </button>
                        </div>
                    </header>

                    {/* Info Panel */}
                    {showInfo && (
                        <div className="max-w-4xl mx-auto px-4 py-4 animate-in slide-in-from-top-4">
                            <div className="bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex flex-col sm:flex-row gap-4 items-center">
                                <div className="flex-1">
                                    <h4 className="font-bold text-yellow-800 mb-2">语法结构 (Grammatika / Grammar / Грамматика)</h4>
                                    <div className="flex items-center gap-2 text-xs sm:text-sm font-mono bg-white p-2 rounded border border-yellow-100 text-center justify-center sm:justify-start flex-wrap">
                                        <span className="text-red-600">Year</span> 
                                        <span className="text-gray-400">→</span>
                                        <span className="text-red-600">Month</span>
                                        <span className="text-gray-400">→</span>
                                        <span className="text-red-600">Day</span>
                                    </div>
                                    <div className="text-xs text-yellow-600 mt-2 italic space-y-1">
                                        <p>* Og'zaki nutqda "日" (rì) o'rniga "号" (hào) ishlatilishi mumkin.</p>
                                        <p className="opacity-80">* In spoken language "号" (hào) can be used instead of "日" (rì).</p>
                                        <p className="opacity-80">* В устной речи вместо "日" (rì) можно использовать "号" (hào).</p>
                                    </div>
                                </div>
                                <div className="w-full sm:w-32 h-16 sm:h-20 shrink-0">
                                    <svg viewBox="0 0 120 80" className="w-full h-full">
                                        <rect x="5" y="10" width="30" height="30" rx="4" fill="#DC2626" opacity="0.9" />
                                        <text x="20" y="30" fontSize="10" fill="white" textAnchor="middle">年</text>
                                        
                                        <path d="M38 25 L48 25" stroke="#9CA3AF" strokeWidth="2" />
                                        <path d="M48 25 L45 22 L45 28 Z" fill="#9CA3AF" />

                                        <rect x="50" y="20" width="25" height="25" rx="4" fill="#DC2626" opacity="0.7" />
                                        <text x="62.5" y="36" fontSize="9" fill="white" textAnchor="middle">月</text>
                                        
                                        <path d="M78 32.5 L88 32.5" stroke="#9CA3AF" strokeWidth="2" />
                                        <path d="M88 32.5 L85 29.5 L85 35.5 Z" fill="#9CA3AF" />

                                        <rect x="90" y="30" width="20" height="20" rx="4" fill="#DC2626" opacity="0.5" />
                                        <text x="100" y="44" fontSize="8" fill="white" textAnchor="middle">日</text>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Main Calendar */}
                    <main className="max-w-4xl mx-auto px-2 sm:px-4 py-4 sm:py-6">
                        <div className="grid grid-cols-7 mb-2 gap-1">
                            {weekHeaders.map((day) => (
                                <div key={day.zh} className={`text-center rounded-lg py-1 sm:py-2 border ${day.color}`}>
                                    <span className="block text-xs sm:text-sm font-bold sm:hidden">{day.zh}</span>
                                    <span className="hidden sm:block text-sm font-bold">{day.fullZh}</span>
                                    <span className="block text-[10px] opacity-90 uppercase tracking-tighter font-medium">
                                        {day.uz}
                                    </span>
                                    <div className="text-[8px] opacity-60 leading-none pb-0.5">
                                        {day.en}/{day.ru}
                                    </div>
                                </div>
                            ))}
                        </div>

                        <div className="grid grid-cols-7 gap-1 bg-white rounded-xl shadow-sm p-1 sm:p-4 border border-gray-100">
                            {renderCalendarGrid()}
                        </div>

                        {/* Interactive Questions */}
                        <div className="mt-6 sm:mt-8">
                            <h3 className="text-base sm:text-lg font-bold text-gray-800 mb-3 sm:mb-4 flex items-center gap-2 px-2">
                                <MessageCircle className="text-indigo-600 w-5 h-5 sm:w-6 sm:h-6" />
                                对话练习 (Muloqot / Dialogue / Диалог)
                            </h3>
                            <div className="grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-4 sm:gap-3">
                                {questions.map((q) => (
                                    <button 
                                        key={q.id}
                                        onClick={() => setActiveQuestion(q.id)}
                                        className={`flex flex-row sm:flex-col items-center justify-start sm:justify-center p-3 sm:p-4 rounded-xl border transition-all duration-200 shadow-sm active:scale-95 ${q.color} text-left sm:text-center`}
                                    >
                                        <div className="mr-3 sm:mr-0 sm:mb-2 p-2 bg-white rounded-full shadow-sm shrink-0">{q.icon}</div>
                                        <div className="flex flex-col">
                                            <span className="font-bold text-base sm:text-lg block leading-tight">{q.zh.split('是')[0]}?</span>
                                            <span className="text-xs opacity-90 block mt-1 font-medium">{q.uz.split('?')[0]}?</span>
                                            <span className="text-[10px] opacity-70 block">{q.en}</span>
                                            <span className="text-[10px] opacity-70 block">{q.ru}</span>
                                        </div>
                                    </button>
                                ))}
                            </div>
                        </div>
                    </main>

                    {renderLearningCard()}
                    {renderQuestionModal()}

                    <footer className="max-w-4xl mx-auto px-4 py-6 sm:py-8 text-center text-gray-400 text-xs sm:text-sm">
                        <p>汉语-乌兹别克语日期学习助手</p>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<InteractiveCalendar />);
    </script>
</body>
</html>
